{% extends "base.html" %}
{% block content %}
<h1>Possible duplicate found</h1>

<h2>New client candidate</h2>
<ul>
  <li>{{ candidate.first_name }} {{ candidate.last_name }}</li>
  <li>{{ candidate.email or "" }}</li>
  <li>{{ candidate.phone or "" }}</li>
  <li>{{ candidate.dob.strftime('%d-%m-%Y') if candidate.dob else "" }}</li>
</ul>

<h2>Matches</h2>
<ul>
{% for m in matches %}
  {% set existing = m[0] if m is sequence else m %}
  {% set score = m[1] if m is sequence else '?' %}
  <li>
    {{ existing.first_name }} {{ existing.last_name }} — {{ existing.email or "" }} — {{ existing.phone or "" }}
    (score: {{ score }})
    <a href="/clients/{{ existing.id }}">Open</a>
  </li>
{% else %}
  <li>No matches.</li>
{% endfor %}
</ul>

<p>
  <a href="/clients/new">Edit details</a> |
  <a href="/clients">Back</a>
</p>
{% endblock %}

{% extends "base.html" %}
{% block content %}
<h1>Clients</h1>

<form method="get" action="/clients" style="margin-bottom:1rem;">
  <input type="text" name="q" value="{{ q or '' }}" placeholder="Search name/email/phone" />
  <button type="submit">Search</button>
  <a href="/clients">Clear</a>
</form>

<p><a href="/clients/new">+ New client</a></p>

<table border="1" cellpadding="6" cellspacing="0">
  <thead>
    <tr>
      <th>ID</th>
      <th>First name</th>
      <th>Last name</th>
      <th>Email</th>
      <th>Phone</th>
      <th>DOB</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for c in clients %}
    <tr>
      <td>{{ c.id }}</td>
      <td>{{ c.first_name }}</td>
      <td>{{ c.last_name }}</td>
      <td>{{ c.email or "" }}</td>
      <td>{{ c.phone or "" }}</td>
      <td>{{ c.dob or "" }}</td>
      <td><a href="/clients/{{ c.id }}">Open</a></td>
    </tr>
    {% else %}
    <tr><td colspan="7">No clients yet.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
